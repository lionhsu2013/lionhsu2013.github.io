<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" >
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
  <link rel="shortcut icon" href="favicon.ico" />
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils@0.1/control_utils.css" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="demo.css" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.1/camera_utils.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils@0.1/control_utils.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils@0.1/drawing_utils.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh@0.1/face_mesh.js" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/webcamjs/1.0.25/webcam.min.js"></script>

</head>

<body>
  HTMLCanvasElement
  <!-- BULMA NAVBAR -->
   <!-- 
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand" >
      <a class="navbar-item" href="index.html">
        <img src="https://camo.githubusercontent.com/82f2bfa2005e2755362d419da02d788b366506b0d55212c160abd5100f3a8822/68747470733a2f2f312e62702e626c6f6773706f742e636f6d2f2d7753746b30565a44664d6b2f59434330474952507244492f41414141414141414147632f31796a37494f556564766f654f3143754378713745544c57304671586e69366d77434c63424741735948512f733332302f6c6f676f746578742e706e67" >
      </a>
  
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
  
    <div id="navbarBasicExample" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="face.html">
          Face
        </a>
  
        <a class="navbar-item" href="faceMesh.html">
          Face Mesh
        </a>

        <a class="navbar-item" href="hands.html">
          Hands
        </a>
        
        <a class="navbar-item" href="pose.html">
          Pose
        </a>

        <a class="navbar-item" href="holistic.html">
          Holistic
        </a>
        </div>
      </div>
  
    </div>
  </nav>
 -->
 
  <!-- CONTENTS -->
  <div class="container" style="margin-top: 20px;">

    <div class="columns">
      <!-- WEBCAM INPUT -->
      <div class="column">
        <article class="panel is-info">
          <p class="panel-heading">
            SERVICE LOGIN
          </p>
          <div class="panel-block">
            <form action='login.php' method='post' id="myForm">
              
              <input type='hidden' name='fun' value='login'/>
              <label for="username" class="visually-hidden">Account</label>
              <input type="text" id="username" name="username" class="form-control" placeholder="Account" required autofocus>
              <label for="password" class="visually-hidden">Password</label>
              <input type="password" id="password" name="password" class="form-control" placeholder="Password" required>
              <button class="w-100 btn btn-lg btn-primary" type="submit">Sign in</button>
              
              <div id="my_camera"  hidden="hidden"></div>
              <input type=button value="Take Snapshot" onClick="take_snapshot()">
              <input type="hidden" name="image" class="image-tag">
              <div >
                <div id="results">Your captured image will appear here...</div>
            </div>
            </form>
          </div>
        </article>
      </div>


      <!-- WEBCAM INPUT -->
      <div class="column" hidden="hidden">
        <article class="panel is-info">
          <p class="panel-heading">
            Webcam Input
          </p>
          <div class="panel-block">
            <video class="input_video2"></video>
          </div>
        </article>
      </div>

      <!-- MEDIAPIPE OUTPUT -->
      <div class="column">
        <article class="panel is-info">
          <p class="panel-heading">
            Mediapipe Face Mesh
          </p>
          <div class="panel-block">
            <canvas class="output2" width="480px" height="480px" id="mycanvas"></canvas>
          </div>
        </article>
      </div>
    </div>
    
    <div class="loading">
      <div class="spinner"></div>
    </div>
  <div style="visibility: hidden;" class="control2">
  </div>

  <script type="text/javascript" src="./js/faceMesh.js"></script>

<!-- Configure a few settings and attach camera -->
<script language="JavaScript">
    Webcam.set({
        width: 490,
        height: 390,
        image_format: 'jpeg',
        jpeg_quality: 90
    });
  
    Webcam.attach( '#my_camera' );
  
    function take_snapshot() {
        Webcam.snap( function(data_uri) {
            $(".image-tag").val(data_uri);
            document.getElementById('results').innerHTML = '<img src="'+data_uri+'"/>';
            //document.getElementById("myForm").submit();
        } );
    }
</script>


</body>
</html>
